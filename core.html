<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>نموذج التسجيل</title>
</head>
<body>
  <h2>نموذج تسجيل التلاميذ</h2>

  <form id="myForm">
    <label for="childName">اسم التلميذ:</label>
    <input type="text" id="childName" name="childName" required><br><br>

    <label for="gender">الجنس:</label>
    <select id="gender" name="gender" required>
      <option value="ذكر">ذكر</option>
      <option value="أنثى">أنثى</option>
    </select><br><br>

    <label for="age">العمر:</label>
    <input type="number" id="age" name="age" required><br><br>

    <label for="level">المستوى الدراسي:</label>
    <input type="text" id="level" name="level" required><br><br>

    <label for="phone">رقم الهاتف:</label>
    <input type="tel" id="phone" name="phone" required><br><br>

    <label for="parentEmail">البريد الإلكتروني لولي الأمر:</label>
    <input type="email" id="parentEmail" name="parentEmail" required><br><br>

    <button type="submit">إرسال</button>
  </form>

  <!-- EmailJS -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script type="text/javascript">
    // ✅ ضع المفتاح العمومي من EmailJS هنا
    emailjs.init("hwiQNPj5Rl5pmnMRe");

    document.getElementById("myForm").addEventListener("submit", function(event) {
      event.preventDefault();

      // نجهز المتغيرات مثل التمبلايت الموجود في EmailJS
      const templateParams = {
  name: document.getElementById("childName").value,
  email: document.getElementById("parentEmail").value,
  title: "New Registration"
};

      const serviceID = "service_8c4ku1u";   // ✅ غيرها بخدمة EmailJS الخاصة بك
      const templateID = "template_g2p1t2s"; // ✅ غيرها بالتمبلايت الخاص بك

      emailjs.send(serviceID, templateID, templateParams)
        .then(function(response) {
          alert("تم إرسال النموذج بنجاح ✅");
          console.log("SUCCESS!", response.status, response.text);
        }, function(error) {
          alert("حدث خطأ أثناء الإرسال ❌");
          console.log("FAILED...", error);
        });
    });
  </script>
</body>
</html>
